const TLN = {eventList: {},updateLineNumbers: function(e,t) {let n = e.value.split('\n').length - t.children.length;if (n > 0) {const e = document.createDocumentFragment();for (;n > 0;) {const t = document.createElement('span');t.className = 'tln-line',e.appendChild(t),n--}t.appendChild(e)}for (;n < 0;)t.removeChild(t.lastChild),n++},appendLineNumbers: function(e) {const t = document.getElementById(e);if (null == t)return console.warn('[tln.js] Couldn\'t find textarea of id \'' + e + '\'');if (-1 != t.className.indexOf('tln-active'))return console.warn('[tln.js] textarea of id \'' + e + '\' is already numbered');t.classList.add('tln-active'),t.style = {};const n = document.createElement('div');n.className = 'tln-wrapper',t.parentNode.insertBefore(n,t),TLN.updateLineNumbers(t,n),TLN.eventList[e] = [];const r = ['propertychange','input','keydown','keyup'],o = function(e,t) {return function(n) {(10 != +e.scrollLeft || 37 != n.keyCode && 37 != n.which && 'ArrowLeft' != n.code && "ArrowLeft"!=n.key)&&36!=n.keyCode&&36!=n.which&&"Home"!=n.code&&"Home"!=n.key&&13!=n.keyCode&&13!=n.which&&"Enter"!=n.code&&"Enter"!=n.key&&"NumpadEnter"!=n.code||(e.scrollLeft=0),TLN.updateLineNumbers(e,t)}}(t,n);for(let n=r.length-1;n>=0;n--)t.addEventListener(r[n],o),TLN.eventList[e].push({evt:r[n],hdlr:o});const l=["change","mousewheel","scroll"],s=function(e,t){return function(){t.scrollTop=e.scrollTop}}(t,n);for(let n=l.length-1;n>=0;n--)t.addEventListener(l[n],s),TLN.eventList[e].push({evt:l[n],hdlr:s})},removeLineNumbers:function(e){const t=document.getElementById(e);if(null==t)return console.warn("[tln.js] Couldn't find textarea of id '"+e+"'");if(-1==t.className.indexOf("tln-active"))return console.warn("[tln.js] textarea of id '"+e+"' isn't numbered");t.classList.remove("tln-active");const n=t.previousSibling;if("tln-wrapper"==n.className&&n.remove(),TLN.eventList[e]){for(let n=TLN.eventList[e].length-1;n>=0;n--){const r=TLN.eventList[e][n];t.removeEventListener(r.evt,r.hdlr)}delete TLN.eventList[e]}}};
